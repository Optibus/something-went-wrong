[
    {
        "Error type (user/system/etc.)": "Schema issue",
        "Error title": "Export could not be completed",
        "Error message": "The action could not be completed because there is a schema issue with the Public Transportation 1 preference. Please contact support@optibus.com for assistance",
        "Raw": "",
        "Solutions": "",
        "Issue": "There is an error in the public transportation preference",
        "Data Collection Comment": ""
    },
    {
        "Error type (user/system/etc.)": "User error",
        "Error title": "Unable to generate IDs",
        "Error message": "New IDs could not be generated. if you try again and still need help, contact support.",
        "Raw": "",
        "Solutions": "The client figured out that there was an overlap with numbering and adjusted the preferences. This has resolved the issue.",
        "Issue": "",
        "Data Collection Comment": ""
    },
    {
        "Error type (user/system/etc.)": "User error",
        "Error title": "Optimization could not be completed",
        "Error message": "The action could not be completed because 44 time period(s) within the vehicle block(s) are not covered by any valid duty piece(s). To resolve the issue, go to the schedule and select the affected time period(s). The piece validation icon at the bottom left of the tooltip will provide further details.Select more to view the vehicle IDs affected, along with the time periods that are not covered.Select how to fix to learn more.These are the vehicle IDs affected, followed by the time periods that are not covered:913: 14:20-15:58914: 14:55-18:03915: 07:58-16:23923: 06:40-16:23936: 07:15-15:52937: 07:18-17:01941: 06:40-09:10941: 14:32-17:15952: 04:10-24:00953: 04:05-21:251001: 06:37-18:511002: 06:28-18:361104: 07:38-09:191401: 06:03-19:211402: 06:15-18:201403: 06:38-08:281403: 16:36-18:213601: 16:40-19:503602: 15:10-19:393603: 06:15-16:463612: 14:15-15:503801: 06:25-09:153801: 15:01-17:005101: 05:55-17:505102: 06:00-18:205103: 06:10-18:155104: 06:35-18:306001: 05:15-19:256002: 05:20-19:506003: 05:45-19:206004: 05:50-20:106005: 06:35-18:256006: 06:15-20:086007: 06:30-18:306008: 06:00-22:106009: 06:45-19:056010: 07:15-24:106011: 06:35-18:506012: 07:05-24:136021: 05:35-18:256022: 06:05-22:086023: 06:35-19:206024: 06:55-21:106025: 07:20-23:03",
        "Raw": "{\"recording_id\": \"CreateScheduleOptimizationExecutor/20240528/4711d5621cda11efa390662b465d0e5b\",\"category\": \"unscheduled_duties_warning\",\"short_description\": \"The action could not be completed because {{count}} time period(s) within the vehicle block(s) are not covered by any valid duty piece(s). To resolve the issue, go to the schedule and select the affected time period(s). The piece validation icon at the bottom left of the tooltip will provide further details.\",\"parameters\": {\"count\": 44},\"sub_category\": \"cannot_cut_piece_error\",\"explanation\": null,\"detailed_description\": \"Select more to view the vehicle IDs affected, along with the time periods that are not covered.\",\"debug\": \"These are the vehicle IDs affected, followed by the time periods that are not covered:913: 14:20-15:58914: 14:55-18:03915: 07:58-16:23923: 06:40-16:23936: 07:15-15:52937: 07:18-17:01941: 06:40-09:10941: 14:32-17:15952: 04:10-24:00953: 04:05-21:251001: 06:37-18:511002: 06:28-18:361104: 07:38-09:191401: 06:03-19:211402: 06:15-18:201403: 06:38-08:281403: 16:36-18:213601: 16:40-19:503602: 15:10-19:393603: 06:15-16:463612: 14:15-15:503801: 06:25-09:153801: 15:01-17:005101: 05:55-17:505102: 06:00-18:205103: 06:10-18:155104: 06:35-18:306001: 05:15-19:256002: 05:20-19:506003: 05:45-19:206004: 05:50-20:106005: 06:35-18:256006: 06:15-20:086007: 06:30-18:306008: 06:00-22:106009: 06:45-19:056010: 07:15-24:106011: 06:35-18:506012: 07:05-24:136021: 05:35-18:256022: 06:05-22:086023: 06:35-19:206024: 06:55-21:106025: 07:20-23:03\",\"severity\": 3,\"event_type\": \"user_error\",\"stack_trace\": \" File \\\"/envp/site-packages/optibus/system/job_executor/executor.py\\\", line 89, in executeresult = self._execute_operation(parameters)File \\\"/euclid/euclid/tasks_optimizations.py\\\", line 404, in _execute_operationraw_schedules,File \\\"/euclid/euclid/tasks_optimizations.py\\\", line 564, in create_schedule_funcrequest_parameters,File \\\"/euclid/euclid/tasks_optimizations.py\\\", line 189, in create_schedule_from_raw_input_with_override_dataraw_override_trips=raw_override_trips,File \\\"/envp/site-packages/optibus/utils/timing_utils.py\\\", line 125, in decorated_functionresult = func(*args, **kwargs)File \\\"/euclid/euclid/progressed_engine.py\\\", line 101, in create_schedule_from_raw_inputthrow_on_validation_error=throw_on_validation_error,File \\\"/envp/site-packages/euclid_utils/progress/progress.py\\\", line 180, in wrapperres = func(*args, **kwargs)File \\\"/euclid/euclid/progressed_engine.py\\\", line 22, in create_schedule_from_data_set_with_progressreturn create_schedule_from_data_set(*args, **kwargs)File \\\"/envp/site-packages/optibus/system/context.py\\\", line 580, in decorated_functionresult = func(*args, **kwargs)File \\\"/envp/site-packages/optibus/utils/timing_utils.py\\\", line 125, in decorated_functionresult = func(*args, **kwargs)File \\\"/euclid/euclid/engine.py\\\", line 357, in create_schedule_from_data_setthrow_on_validation_error,File \\\"/envp/site-packages/optibus/system/context.py\\\", line 580, in decorated_functionresult = func(*args, **kwargs)File \\\"/envp/site-packages/optibus/utils/timing_utils.py\\\", line 125, in decorated_functionresult = func(*args, **kwargs)File \\\"/envp/site-packages/euclid_utils/scheduling_context.py\\\", line 24, in decorated_functionreturn func(*args, **kwargs)File \\\"/euclid/euclid/engine.py\\\", line 903, in _create_crew_schedulethrow_on_validation_error=throw_on_validation_error,File \\\"/envp/site-packages/optibus/system/context.py\\\", line 580, in decorated_functionresult = func(*args, **kwargs)File \\\"/envp/site-packages/optibus/utils/timing_utils.py\\\", line 125, in decorated_functionresult = func(*args, **kwargs)File \\\"/envp/site-packages/euclid_utils/progress/progress.py\\\", line 233, in wrapperreturn func(*args, **kwargs)File \\\"/euclid/euclid/crew/set_partitioning_crew_scheduler.py\\\", line 833, in create_crew_scheduleself._create_duties_from_vehicle_piece_cutting(allow_unscheduled_duties, schedule)File \\\"/envp/site-packages/optibus/system/context.py\\\", line 580, in decorated_functionresult = func(*args, **kwargs)File \\\"/envp/site-packages/euclid_utils/progress/progress.py\\\", line 233, in wrapperreturn func(*args, **kwargs)File \\\"/euclid/euclid/crew/set_partitioning_crew_scheduler.py\\\", line 853, in _create_duties_from_vehicle_piece_cuttingif not self._data_set.algorithm_parameters.force_initial_solution_duties()File \\\"/envp/site-packages/optibus/system/context.py\\\", line 580, in decorated_functionresult = func(*args, **kwargs)File \\\"/euclid/euclid/crew/set_partitioning_crew_scheduler.py\\\", line 3153, in create_all_pieces_combined_pref_groupsall_extracted_pieces = manipulator.extract_pieces()File \\\"/envp/site-packages/euclid_utils/progress/progress.py\\\", line 233, in wrapperreturn func(*args, **kwargs)File \\\"/euclid/euclid/utils/all_combination_graph_utils.py\\\", line 4695, in extract_piecesself._handle_unscheduled_pieces(unscheduled_pieces, all_possible_duty_pieces)File \\\"/euclid/euclid/utils/all_combination_graph_utils.py\\\", line 4751, in _handle_unscheduled_piecesraise CannotCutPieceError.create(uncovered_ranges)\",\"request_id\": null,\"task_id\": \"99506bc0-0493-45f9-9df5-ca3fd5655b5d\",\"externalError\": true}",
        "Solutions": "This error means that the vehicles couldn't be cut into pieces for the duty optimisation. This means there are missing preferences, such as routes not being allowed to be run by any Preference Group in your Custom Duty Preferences, or perhaps the Preference Group being paused during optimisation. The reason why a vehicle cannot be cut will be shown to by using the 'vehicle piece validation tool'. We have an article to read how it works and how to use it: https://optibus.my.site.com/help/s/article-detail?language=en_US#S-134 When using the tool, enter the vehicle gantt and select the part of the vehicle which you believe should be run by a particular preference group. Do not select the entire range that is described in the optimisation error message unless you think that the entire range should be drivable in one piece by a duty. Select only the piece which you think should be valid, and then run the tool for the preference group(s) which you think should be able to cut the vehicle.Here's the content of the Help Center article that you can draw upon to assist you in assisting the user:TerminologyPiece cutting is the first stage of schedule optimization. Its goal is to determine all the potential vehicle pieces. This allows the optimization engine to rearrange duties in the most efficient way possible.A vehicle piece is a sequence of vehicle events that is legal for a driver to do as a whole. A duty usually comprises multiple pieces.Not every sequence of events is considered a valid piece. Here are some examples:If a driver needs a break every 4 hours, a 5-hour sequence of events without a break is not a valid piece.If a preference group has a rule where its drivers can only operate the routes from group A, any pieces from group B would be invalid for those drivers.The vehicle piece validation tool lets you quickly determine whether a piece is valid or not. In this article, we go over the functionality and logic of the tool. To find specific troubleshooting scenarios that involve the use of this tool, see this article.LogicLogically, a piece should start and end at a relief point or the depot, because it should be at a point in the route where the driver can get off the bus. This is why, depending on the optimization algorithm, pieces are cut at relief points (AFB algorithm) and/or during pull reliefs (DEEP algorithm).The validity of a vehicle piece is defined by relief points, break preferences, and other factors we cover in this article. Invalid pieces are also called uncuttable because they cannot be cut during optimization.The image below shows examples of valid and invalid pieces with Continuous breaks and Limit short pieces preferences set up:There are also cases where a piece is valid, but there are no duties that can fully cover it. Example:In the image below, Vehicle #1 performs 3 trips that are considered a valid piece. There are two duties in the pool: Duty A covers trips 567 and 5, Duty B covers trips 5 and 29, but there is no duty that could cover all three.The piece validation tool is a feature in Scheduling that lets you quickly check if a vehicle piece is valid (cuttable).How to useTo use the tool, follow these steps:Highlight a piece in the vehicle Gantt by holding the SHIFT key and clicking on the first and last event in it. A popup will appear, showing general info about the piece: its first and last stop, driving time, and so on. In the bottom-left of the popup, there is a piece validation tool button: If you are using preference groups, before using the tool, select the correct group to validate the piece under. To do that, click the downward arrow button next to the cutting tool button and select the group in the list. Click the piece validation tool button to validate the piece. The result will be either Valid or Invalid. If Invalid, clicking the red arrow button will point to the reason why the piece does not work.Note: If the piece starts or ends mid-trip, you will need to cut that trip. Click on the trip and press the 'U' key on the keyboard.Relief opportunities layerThe Relief opportunities layer can help you visually identify relief points, which are crucial for valid vehicle pieces. To enable it, click the Layers button above the Gantt view and check the Relief opportunities box. All relief points will be marked by dotted vertical lines in the Gantt:Note: whenever you update relief point preferences, Analyze the schedule so that the layer shows the updated points:Piece cutting differences between AFB and DEEP algorithmsPiece cutting works slightly differently depending on the algorithm you use. AFB (Advanced Fixed Blocks), the most commonly used algorithm, does not allow vehicle modification. As a result, piece cutting only happens at relief points and depots. With AFB, the piece validation tool will show why a piece cannot be cut.DEEP allows for vehicles to be modified during duty optimization, so it can potentially add depot pulls to non-relief point terminal stops and use the resulting sequence as a piece. This will let you cut vehicle pieces that would not have been cuttable otherwise. To learn how to enable DEEP, see this article.Configuring pull reliefs with DEEPWhen DEEP is enabled, follow these steps to configure pull reliefs and allow more flexibility in piece cutting:Open Trip Connections.Load the Pull reliefs template from the Optibus tab.Select the stops that will serve as pull reliefs.Save and close.Note: The validation tool might still consider the piece invalid, but it will not cause errors during optimization.",
        "Issue": "When running the duty optimisation, the vehicles could not be cut into pieces and assigned to duties.",
        "Data Collection Comment": "How to address issues with dynamic text? For example, the original error said \"44 time periods\" couldn't be cut, and displayed the vehicle IDs & times, but these are always different for each schedule/setup.Can we deal with messages that include important information only in the debug?"
    },
    {
        "Error type (user/system/etc.)": "User error",
        "Error title": "Unable to analyze schedule",
        "Error message": "Missing time definition declarationTime definition 'Potential breaks time' was defined but wasn't defined in time definitions preference",
        "Raw": "{ \"recording_id\": \"ScheduleAnalyze/20240528/4684697c1cf611ef9f568e13875d0b41\", \"category\": \"data_warning\", \"short_description\": \"Missing time definition declaration\", \"parameters\": { \"time_id\": \"Potential breaks time\" }, \"sub_category\": \"missing_time_definition\", \"explanation\": null, \"detailed_description\": \"Time definition '{{time_id}}' was defined but wasn't defined in time definitions preference\", \"debug\": \"Duty id 1501: [ (sign_on, index: 0, 05:15-05:20, <Stop ADDERLEY GREEN, DEPOT (id:AG)> -> <Stop ADDERLEY GREEN, DEPOT (id:AG)> (id:139838681453576)), (vehicle_event, index: 1, vehicle_id: 2501, (pre_trip, index: 0, 05:20-05:25, <Stop ADDERLEY GREEN, DEPOT (id:AG)> -> <Stop ADDERLEY GREEN, DEPOT (id:AG)>, meta: duty_id: 1501 (id:139840117466968))), (vehicle_event, index: 2, vehicle_id: 2501, (idle_trip, index: 1, 05:25-05:35, <Stop ADDERLEY GREEN, DEPOT (id:AG)> -> <Stop Coalville, Main St (id:3890D125202)>, meta: type: depot_pull_out, duty_id: 1501 (id:139840117467024))), (vehicle_event, index: 3, vehicle_id: 2501, (service_trip, index: 2, 05:35-06:15, <Stop Coalville, Main St (id:3890D125202)> -> <Stop HANLEY, Bus Stn (id:3890D000100)>, meta: id: Lz2RjGjBTwE, duty_id: 1501 (id:139840117467080))), (vehicle_event, index: 4, vehicle_id: 2501, (service_trip, index: 3, 06:26-07:10, <Stop HANLEY, Bus Stn (id:3890D000122)> -> <Stop Keele, Sneyd Arms (id:3800C502703)>, meta: id: l9ZmRBLJGCrb, duty_id: 1501 (id:139840117467136))), (vehicle_event, index: 5, vehicle_id: 2501, (service_trip, index: 4, 07:12-08:00, <Stop Keele, Sneyd Arms (id:3800C502703)> -> <Stop HANLEY, Bus Stn (id:3890D000100)>, meta: id: MAuoocEYAfx6, duty_id: 1501 (id:139840117467192))), (vehicle_event, index: 6, vehicle_id: 2501, (service_trip, index: 5, 08:05-08:59, <Stop HANLEY, Bus Stn (id:3890D000122)> -> <Stop Keele, Sneyd Arms (id:3800C502703)>, meta: id: 7fsO20osBrLf, duty_id: 1501 (id:139840117467248))), (vehicle_event, index: 7, vehicle_id: 2501, (service_trip, index: 6, 09:00-09:55, <Stop Keele, Sneyd Arms (id:3800C502703)> -> <Stop HANLEY, Bus Stn (id:3890D000100)>, meta: id: julRrSEIE65I, duty_id: 1501 (id:139840117466632))), (standby, index: 8, 09:55-10:35, <Stop HANLEY, Bus Stn (id:3890D000100)> -> <Stop HANLEY, Bus Stn (id:3890D000100)> (id:139838681453968)), (changeover, index: 9, 10:35-10:35, <Stop HANLEY, Bus Stn (id:3890D000111)> -> <Stop HANLEY, Bus Stn (id:3890D000111)> (id:139838681454024)), (vehicle_event, index: 10, vehicle_id: 1102, (attendance, index: 8, 10:35-10:40, <Stop HANLEY, Bus Stn (id:3890D000111)> -> <Stop HANLEY, Bus Stn (id:3890D000111)>, meta: duty_id: 1501 (id:139838681455424))), (vehicle_event, index: 11, vehicle_id: 1102, (service_trip, index: 9, 10:40-11:03, <Stop HANLEY, Bus Stn (id:3890D000111)> -> <Stop Cowley Way (id:3890D006501)>, meta: id: z1oxdhip1, duty_id: 1501 (id:139838681455480))), (vehicle_event, index: 12, vehicle_id: 1102, (service_trip, index: 10, 11:04-11:25, <Stop Cowley Way (id:3890D006502)> -> <Stop HANLEY, Bus Stn (id:3890D000100)>, meta: id: mo0719430, duty_id: 1501 (id:139838681455536))), (vehicle_event, index: 13, vehicle_id: 1102, (service_trip, index: 11, 11:30-12:30, <Stop HANLEY, Bus Stn (id:3890D000111)> -> <Stop NEWCASTLE, Bus Stn (id:3800C510100)>, meta: id: 0r4d5qtb0, duty_id: 1501 (id:139838681455648))), (vehicle_event, index: 14, vehicle_id: 1102, (service_trip, index: 12, 12:35-13:08, <Stop NEWCASTLE, Bus Stn (id:3800C510110)> -> <Stop AG, Outside Depot (id:3890D004502)>, meta: id: 9dvm40aun_1, duty_id: 1501 (id:139838681455704))), (vehicle_event, index: 15, vehicle_id: 1102, (service_trip, index: 13, 13:13-13:35, <Stop AG, Outside Depot (id:3890D004502)> -> <Stop HANLEY, Bus Stn (id:3890D000100)>, meta: id: 9dvm40aun_2, duty_id: 1501 (id:139838681454472))), (sign_off, index: 16, 13:35-13:40, <Stop HANLEY, Bus Stn (id:3890D000100)> -> <Stop HANLEY, Bus Stn (id:3890D000100)> (id:139838681454416)) ]\", \"severity\": 3, \"event_type\": \"user_error\", \"stack_trace\": \" File \\\"/euclid/euclid/http/schedule.py\\\", line 54, in _post stats_only, File \\\"/euclid/euclid/integrations/analyze_schedule.py\\\", line 110, in create_report schedule, data_set, forgiving=forgiving, validate=False, calculate_similarity=True File \\\"/envp/site-packages/optibus/utils/timing_utils.py\\\", line 125, in decorated_function result = func(*args, **kwargs) File \\\"/envp/site-packages/optibus/system/context.py\\\", line 580, in decorated_function result = func(*args, **kwargs) File \\\"/euclid/euclid/analytics/schedule_stats.py\\\", line 71, in create_schedule_stats schedule, data_set, forgiving=forgiving, recalculate_stats_for_duty_ids=recalculate_stats_for_duty_ids File \\\"/envp/site-packages/optibus/utils/timing_utils.py\\\", line 125, in decorated_function result = func(*args, **kwargs) File \\\"/euclid/euclid/analytics/crew_analytics.py\\\", line 225, in create_crew_stats duty, create_duty_penalties_func, calculate_compensation_time, dont_raise_on_penalty_errors=forgiving File \\\"/euclid/euclid/analytics/crew_analytics.py\\\", line 463, in create_duty_stats raise_error(type(e), u\\\"Duty id {}: {}\\\".format(duty.id, short_events_repr(duty.schedule_events)), inner_error=e) File \\\"/envp/site-packages/optibus/utils/error_utils.py\\\", line 26, in _wrapped return f(*args, **kwargs) File \\\"/envp/site-packages/optibus/utils/error_utils.py\\\", line 66, in raise_error _reraise_detailed_error(unicode_message, inner_error) File \\\"/envp/site-packages/optibus/utils/error_utils.py\\\", line 48, in _reraise_detailed_error six.reraise(type(detailed_error), detailed_error, traceback) File \\\"/euclid/euclid/analytics/crew_analytics.py\\\", line 395, in create_duty_stats \\\"value\\\": time_definition.calculate_time(duty), File \\\"/envp/site-packages/optibus/models/schedule/time_definitions/preference_group_time_definition.py\\\", line 105, in calculate_time events_container, piece_stage, context_duty File \\\"/envp/site-packages/preferences_designer/schedule/time_definitions/time_definition.py\\\", line 219, in calculate_time return self._calculate_time(events_container, piece_stage, context_duty) File \\\"/envp/site-packages/preferences_designer/schedule/time_definitions/time_definition.py\\\", line 229, in _calculate_time return self.custom_time(events_container, events_container, self._data_set, piece_stage, context_duty) File \\\"<string>\\\", line 38, in custom_func File \\\"/envp/site-packages/optibus/models/schedule/time_definitions/time_definitions_preference.py\\\", line 138, in get_time_definition raise MissingTimeDefinitionWarning.create(time_id) \", \"request_id\": null, \"task_id\": null, \"externalError\": true, \"statusCode\": 500, \"status\": \"failed\" }",
        "Solutions": "This error is usually thrown when a Time Definition is deleted from the schedule's preferences when it is still being used by another preference, such as a Global Constraint, a different Time Definition, or one of the Preference Designers. The user should review the preferences in their schedule to find the existing preference which references this Time Definition, and either delete the preference or change it so it references a different, not-deleted, time definition.Time Definitions are preferences that allows users to define various time-related parameters of duties. Those parameters are then used in optimization, stats, and various linked preferences.",
        "Issue": "On analyse, the error message tells us something is missing but not which preference is causing the error, so the user doesn\u2019t know how to fix it. Currently the expected flow only caters for users that want to re-add the time definition, but doesn\u2019t help users that want to remove or replace a time definition.",
        "Data Collection Comment": ""
    },
    {
        "Error type (user/system/etc.)": "System & user error...",
        "Error title": "Schedule could not be imported",
        "Error message": "The file could not be imported because the Vehicle Type column contains an unknown vehicle type. Go to the file and and update 'double decker' in Row 284 to one of the following supported vehicle type ids: 'VA','SX','EP','EX','ENL','E30','EH','VL','VH','STM','SL','EN','ENb','E10','ENM','ENS','ST','TN','TE','S','3','6','4' or vehicle type names: 'Volvo B7TL/B9TL','Scania E400 N250UD / E400MMC','ADL Enviro E200MMC ex P&R','ADL Enviro E200MMC X10 (Blue)','ADL Enviro E200MMC (former X10/X30)','ADL E300','ADL E350H (hybrid)','Volvo B7RLE','Volvo 7900H (hybrid)','Wright Streetlite Max','ADL Dart SLF (Pointer)','ADL Enviro E200','ADL Enviro E200 (37 Bwd branded)','ADL Enviro E200 10m','ADL Enviro E200MMC (Beaulieu branded)','ADL Enviro E200 (short)','Wright Streetlite','ADL Trident','ADL Enviro 400','Shuttle ','Double Decker ','Single Decker Long','Single Decker Midi'. Search if other rows contain the same unsupported vehicle type and update if needed, then import the file again.",
        "Raw": "{\"recording_id\": \"ScheduleImport/20230602/42740dfa012311ee99168ae3207081ff\",\"category\": \"excel_import\",\"short_description\": \"The file could not be imported because the Vehicle Type column contains an unknown vehicle type. Go to the file and and update '{{given_vehicle_id}}' in Row {{row}} to one of the following supported vehicle type ids: {{existing_ids}} or vehicle type names: {{existing_types}}. Search if other rows contain the same unsupported vehicle type and update if needed, then import the file again.\",\"parameters\": {\"row\": 284,\"given_vehicle_id\": \"double decker\",\"existing_ids\": \"'VA','SX','EP','EX','ENL','E30','EH','VL','VH','STM','SL','EN','ENb','E10','ENM','ENS','ST','TN','TE','S','3','6','4'\",\"existing_types\": \"'Volvo B7TL/B9TL','Scania E400 N250UD / E400MMC','ADL Enviro E200MMC ex P&R','ADL Enviro E200MMC X10 (Blue)','ADL Enviro E200MMC (former X10/X30)','ADL E300','ADL E350H (hybrid)','Volvo B7RLE','Volvo 7900H (hybrid)','Wright Streetlite Max','ADL Dart SLF (Pointer)','ADL Enviro E200','ADL Enviro E200 (37 Bwd branded)','ADL Enviro E200 10m','ADL Enviro E200MMC (Beaulieu branded)','ADL Enviro E200 (short)','Wright Streetlite','ADL Trident','ADL Enviro 400','Shuttle ','Double Decker ','Single Decker Long','Single Decker Midi'\",\"requestId\": \"i9sr2UdqtY2IRXoK\"},\"sub_category\": \"unknown_vehicle_type\",\"explanation\": null,\"detailed_description\": null,\"debug\": null,\"severity\": 3,\"event_type\": \"user_error\",\"stack_trace\": \" File \\\"/euclid/euclid/http/app.py\\\", line 886, in _postresult = self.execute_operation(tempfile_name, filename, file_storage.content_type, request.args)File \\\"/euclid/euclid/http_api.py\\\", line 524, in execute_operationallow_trip_over_72_hours=allow_trip_over_72_hours)File \\\"/euclid/euclid/integrations/imports.py\\\", line 177, in import_scheduleschedules = _import_xlsx_csv_schedule(filepath, filename, file_content_type, data_set, raw_data_set)File \\\"/euclid/euclid/integrations/imports.py\\\", line 203, in _import_xlsx_csv_scheduleschedules = _import_schedule(filepath, data_set, preferences, name=filename, is_csv=is_csv)File \\\"/euclid/euclid/utils/import_utils.py\\\", line 2441, in import_scheduleevent_tabular_mapping, is_csv)File \\\"/euclid/euclid/utils/import_utils.py\\\", line 2104, in _import_vehicle_blocksindex, given_vehicle_type, data_set.vehicle_types)\",\"request_id\": \"i9sr2UdqtY2IRXoK\",\"task_id\": null,\"externalError\": true,\"main_schedule_id\": null,\"user\": \"federico.pettinella@optibus.com\",\"customer\": \"firstbus-sy-playground\",\"account_name\": \"First Bus - South Yorkshire\",\"account_region\": \"Europe\",\"country\": \"United Kingdom\",\"requestId\": \"i9sr2UdqtY2IRXoK\",\"operationType\": \"importSchedule\",\"client_url\": \"https://firstbus-sy-playground.optibus.co/project/rnhg9ng/schedules/0a9cKTGF9M/gantt \",\"project_id\": null,\"statusCode\": 400}",
        "Solutions": "The schedule is expecting a vehicle type called \"Double Decker \", but this vehicle type has an extra space which is removed during the data import so the schedule is looking for only \"double decker\" (no space). To fix this, enter your original timeplan, remove the space from your vehicle type, sync your schedule, and then import your file again.",
        "Issue": "There's an extra space in the vehicle type name which means it's not possible to match the vehicle type in the schedule to the timeplan.",
        "Data Collection Comment": ""
    },
    {
        "Error type (user/system/etc.)": "User error",
        "Error title": "",
        "Error message": "",
        "Raw": "{\"stack\": \"Error: schedule WZIzic1Ko is inconsistent, sync process cannot continueat Object.validateConsistency (/mithra/js-worker/db-tasks/sync/sync.js:428:25)at Object.getScheduleDocsPartitioned (/mithra/js-worker/db-tasks/sync/sync.js:478:14)at process.processTicksAndRejections (node:internal/process/task_queues:95:5)at async Object.convertSchedules (/mithra/js-worker/db-tasks/sync/sync.js:502:65)at async /mithra/js-worker/utils/sync-utils.js:26:32\",\"message\": \"schedule WZIzic1Ko is inconsistent, sync process cannot continue\",\"category\": \"connectivity_inconsistent_schedule\",\"parameters\": {\"scheduleName\": \"Sunday Working Weekend\"},\"stack_trace\": \"Error: schedule WZIzic1Ko is inconsistent, sync process cannot continueat Object.validateConsistency (/mithra/js-worker/db-tasks/sync/sync.js:428:25)at Object.getScheduleDocsPartitioned (/mithra/js-worker/db-tasks/sync/sync.js:478:14)at process.processTicksAndRejections (node:internal/process/task_queues:95:5)at async Object.convertSchedules (/mithra/js-worker/db-tasks/sync/sync.js:502:65)at async /mithra/js-worker/utils/sync-utils.js:26:32\",\"status\": \"failed\",\"time\": 1716460162436}",
        "Solutions": "",
        "Issue": "Sync fails with friendly error that explains there are inconsistencies in the schedule and explain how the user can fix them",
        "Data Collection Comment": ""
    },
    {
        "Error type (user/system/etc.)": "User error",
        "Error title": "Timeplan could'nt be imported",
        "Error message": "The file could not be imported because one or more rows contain unsupported values. To resolve the issue go to the file and edit the affected rows.Then import again.",
        "Raw": "",
        "Solutions": "",
        "Issue": "",
        "Data Collection Comment": ""
    },
    {
        "Error type (user/system/etc.)": "",
        "Error title": "",
        "Error message": "",
        "Raw": "{\"recording_id\": \"AddIdleTripHttpOperation/20230908/8adb07c04e4811eeab09f2dd0b37f919\",\"category\": \"uncategorized_error\",\"short_description\": \"Something went wrong. If you try again and still need help, contact support@optibus.com.\",\"parameters\": {\"requestId\": \"0tJx1wLtJEOqaOf8\"},\"sub_category\": \"exceptions.KeyError\",\"explanation\": null,\"detailed_description\": null,\"debug\": \"<type 'exceptions.KeyError'>reliefVehicle\",\"severity\": 4,\"event_type\": \"unknown\",\"stack_trace\": \" File \\\"/euclid/euclid/http/app.py\\\", line 686, in _postresult = self.execute_operation(content)File \\\"/euclid/euclid/scheduling_context.py\\\", line 25, in decorated_functionreturn func(*args, **kwargs)File \\\"/envp/site-packages/optibus/system/event_providers/tracing.py\\\", line 69, in innerreturn func(*args, **kwargs)File \\\"/euclid/euclid/manual_editing/http_endpoints/manual_editing_base_http_operation.py\\\", line 39, in execute_operationreturn self._manual_edit(content)File \\\"/euclid/euclid/manual_editing/http_endpoints/idle_trips_endpoints.py\\\", line 46, in _manual_editstrategy = self._get_strategy(content)File \\\"/euclid/euclid/manual_editing/http_endpoints/manual_editing_base_http_operation.py\\\", line 27, in _get_strategycontainer_type = ContainerTypes[request_parameters['container_type']]File \\\"/envp/site-packages/enum/_init_.py\\\", line 394, in _getitem_return cls.member_map[name]\",\"request_id\": \"0tJx1wLtJEOqaOf8\",\"task_id\": null,\"externalError\": true,\"main_schedule_id\": null,\"user\": \"richard.murray@optibus.com\",\"customer\": \"arriva-uk\",\"account_name\": \"Arriva UK Bus\",\"account_region\": \"Europe\",\"country\": \"United Kingdom\",\"requestId\": \"0tJx1wLtJEOqaOf8\",\"operationType\": \"addIdleTrip\",\"client_url\": \"https://arriva-uk.optibus.co/project/hk8689t/schedules/uO9795ejm0/gantt?edit=manual&type=reliefVehicles \",\"project_id\": null,\"statusCode\": 500}",
        "Solutions": "",
        "Issue": "",
        "Data Collection Comment": ""
    },
    {
        "Error type (user/system/etc.)": "user error",
        "Error title": "stop could not be uploaded",
        "Error message": "The uploading process failed. please try again with a different file.",
        "Raw": "",
        "Solutions": "",
        "Issue": "",
        "Data Collection Comment": ""
    },
    {
        "Error type (user/system/etc.)": "user error",
        "Error title": "",
        "Error message": "",
        "Raw": "{\"recording_id\": \"CreateRosterReports/20220913/fa23cee4337511ed955dbebf55008eb8\",\"category\": \"uncategorized_error\",\"short_description\": \"Something went wrong. If you try again and still need help, contact support@optibus.com.\",\"parameters\": {},\"sub_category\": \"xlsxwriter.exceptions.FileCreateError\",\"explanation\": null,\"detailed_description\": null,\"debug\": \"&lt;class 'xlsxwriter.exceptions.FileCreateError'&gt;FileCreateError(IOError(2, 'No such file or directory'),)\",\"severity\": 4,\"event_type\": \"unknown\",\"stack_trace\": \" File \\\"/euclid/euclid/http/rostering.py\\\", line 285, in _postignore_stats=ignore_stats)File \\\"/euclid/euclid/rostering/reports.py\\\", line 137, in create_all_roster_reportsto_xlsx(report, file_name, force_string_cell_value=force_string_cell_value)File \\\"/envp/site-packages/optibus/utils/io_utils.py\\\", line 329, in to_xlsxworkbook.close()File \\\"/envp/site-packages/xlsxwriter/workbook.py\\\", line 322, in closeraise FileCreateError(e)\",\"request_id\": \"IkUyYnGImxCC2Wxd\",\"task_id\": null,\"externalError\": true,\"main_schedule_id\": null,\"user\": \"marco.semeraro@optibus.com\",\"customer\": \"sg-east\",\"account_name\": \"Stagecoach UK Bus\",\"account_region\": \"Europe\",\"country\": \"United Kingdom\",\"requestId\": \"IkUyYnGImxCC2Wxd\",\"operationType\": \"exportRoster\",\"client_url\": \"https://sg-east.optibus.co/project/r3f3npmkr/rosterSchedules/rv5drNdI1Y/roster-calendar \",\"project_id\": null,\"schedules\": [\"fijQGNSGP\",\"fcTCLTdoaD\",\"fEb8vpEROe\"],\"scheduleSets\": [\"7HfUlL198\"],\"datasets\": [\"DCEaZkwYN\"],\"data set props\": [\"6ZbAmkNp7\"],\"deadheadCatalogs\": [\"vpAbOrlel\"],\"taxiCatalogs\": [\"YoAYPHSoW\",\"MSoPy5Z5D\",\"xcbpaEUW3\"]}",
        "Solutions": "Most probably is due to a character in the Roster name (e.g. \"/\")",
        "Issue": "",
        "Data Collection Comment": ""
    },
    {
        "Error type (user/system/etc.)": "user error",
        "Error title": "",
        "Error message": "<type 'exceptions.UnicodeEncodeError'>",
        "Raw": "ReportsREPORTS:VERITUM REPORTDATA:1 SCHEDULEEXPORT:FAILEDSTEP 3SELECT REPORTBasic Duty PaddlesDuty CardsGeneral Timetable Report (SC Version)General Timetable Report (TP version)PaddlePaddlePublic TimetableVeritum ReportSELECT DATADataPROJECTMobilis - wakacje 2022DATASETWakacje 2022 - od 11.08.2022SCHEDULEWakacje 2022 - od 11.08.2022SERVICEPowszedni Pi\u0105tekDUTY IDK102/PT/1A+ Add DataOops, something went wrongAn error has occurred and we're working to fix the problem. Please try again later or feel free to contact support.BACKSHOW MORELegalSomething went wrong. If you try again and still need help, contact support@optibus.com.CloseDebug Stack Trace Raw{\"recording_id\": \"ExportReportExecutor/20220816/eaadacba1d6211ed98e18a4144564065\",\"category\": \"uncategorized_error\",\"short_description\": \"Something went wrong. If you try again and still need help, contact support@optibus.com.\",\"parameters\": {},\"sub_category\": \"exceptions.UnicodeEncodeError\",\"explanation\": null,\"detailed_description\": null,\"debug\": \"<type 'exceptions.UnicodeEncodeError'>\",\"severity\": 4,\"event_type\": \"unknown\",\"stack_trace\": \" File \\\"/envp/site-packages/optibus/system/job_executor/executor.py\\\", line 83, in executeresult = self._execute_operation(parameters)File \\\"/envp/site-packages/optibus/exporter/fw/export_processor.py\\\", line 53, in _execute_operationresult = self._start_export(raw_request)File \\\"/envp/site-packages/optibus/exporter/fw/export_processor.py\\\", line 175, in _start_exportself._process_request(request, loaded_data, temp_dir_path, zip_temp_dir_path)File \\\"/envp/site-packages/optibus/exporter/fw/reports_tasks_exporter.py\\\", line 26, in _process_requestexporting_result = report.export(data, request.filters, request.settings, tempdir_path)File \\\"/euclid/euclid/exporter/reports/report_data.py\\\", line 130, in exportreturn generate_report(data_set, schedules, report_template, output_directory, _get_output_filename(schedules))File \\\"/euclid/euclid/exporter/reports/report_data.py\\\", line 56, in _get_output_filenameschedules[0].service_group.name)\",\"request_id\": null,\"task_id\": \"62fb94163aa685646607f899\",\"externalError\": true,\"main_schedule_id\": null,\"user\": \"orlando.neto@optibus.com\",\"customer\": \"mobilis-poland\",\"account_name\": \"Mobilis, Poland (Egged)\",\"account_region\": \"Europe\",\"country\": \"Poland\",\"requestId\": null,\"operationType\": \"export_report_action\",\"client_url\": \"https://optiwiz-e.optibus.co/reporter\",\"project_id\": null,\"celeryTaskId\": \"62fb94163aa685646607f899\",\"taskId\": \"62fb94163aa685646607f899\",\"schedules\": [\"SzthTu76a\"],\"scheduleSets\": [\"QbZfFpDFx\"],\"datasets\": [\"ZIm_UbtD6\"],\"data set props\": [\"Hsj8PY7pLN\"],\"deadheadCatalogs\": [\"vyVGgCRxj\"]}",
        "Solutions": "Unfortunately special characters in a service ID/group name are a no-no for optiwiz.Please ask the client to change the service names.But you can also open a product gap for platform to support special characters in the service name.",
        "Issue": "",
        "Data Collection Comment": ""
    },
    {
        "Error type (user/system/etc.)": "user error",
        "Error title": "",
        "Error message": "<type 'exceptions.KeyError'>SxUaw4vaWBp_split&2C&&&0&lKdtFfyXpBa|AA802gdvn->630060441:420,630060441->AA802straid:360,AA802straid->630042271:120,630042271->630060432:60,630060432->AA802knord:180,AA802knord->AA802firmth:180,AA802firmth->AA802stjmes:120,AA802stjmes->630060381:480",
        "Raw": "{\"recording_id\": \"ExportProtocolExecutor/20211111/fedf226842a711ecad7f96a0a1349b2a\",\"category\": \"uncategorized_error\",\"short_description\": \"Something went wrong. If you try again and still need help, contact support@optibus.com.\",\"parameters\": {},\"sub_category\": \"exceptions.KeyError\",\"explanation\": null,\"detailed_description\": null,\"debug\": \"<type 'exceptions.KeyError'>SxUaw4vaWBp_split&2C&&&0&lKdtFfyXpBa|AA802gdvn->630060441:420,630060441->AA802straid:360,AA802straid->630042271:120,630042271->630060432:60,630060432->AA802knord:180,AA802knord->AA802firmth:180,AA802firmth->AA802stjmes:120,AA802stjmes->630060381:480\",\"severity\": 4,\"event_type\": \"unknown\",\"stack_trace\": \" File \\\"/vintp/site-packages/optibus/system/job_executor/executor.py\\\", line 84, in executeresult = self._execute_operation(parameters)File \\\"/vintp/site-packages/optibus/exporter/fw/export_processor.py\\\", line 50, in _execute_operationresult = self._start_export(raw_request)File \\\"/vintp/site-packages/optibus/exporter/fw/export_processor.py\\\", line 172, in _start_exportself._process_request(request, loaded_data, temp_dir_path, zip_temp_dir_path)File \\\"/vintp/site-packages/optibus/exporter/fw/protocols_tasks_exporter.py\\\", line 35, in _process_requestdirectory=tempdir_path))File \\\"<decorator-gen-8>\\\", line 2, in _process_data_exportFile \\\"/vintp/site-packages/optibus/utils/timing_utils.py\\\", line 98, in timedreturn func(*args, **kwargs)File \\\"/vintp/site-packages/optibus/exporter/fw/protocols_tasks_exporter.py\\\", line 54, in _process_data_exportreturn exporter.export(data, protocol_data_filter, settings, directory)File \\\"/src/integrations/exports/protocols/bods_1_1/bods_1_1.py\\\", line 52, in exportexporter._timeplan_export(timeplans, 'bods_1_1_tp', output_directory)File \\\"/src/integrations/exports/protocols/bods/bods_exporter.py\\\", line 384, in _timeplan_exportreturn super(BodsExporter, self)._timeplan_export(timeplan, *args, **kwargs)File \\\"/src/integrations/exports/protocols/txc/txc_exporter.py\\\", line 3831, in _timeplan_exportfile_per_service_identifier=file_per_service_identifier)File \\\"/src/integrations/exports/protocols/txc/txc_exporter.py\\\", line 3860, in _internal_exportreturn self.export_file_per_service(name, directory, zip_filename, warning_filename)File \\\"/src/integrations/exports/protocols/txc/txc_exporter.py\\\", line 4010, in export_file_per_serviceoriginal_routes_by_tp_id=self.original_routes_by_tp_id))File \\\"/src/integrations/exports/protocols/bods/bods_exporter.py\\\", line 384, in _timeplan_exportreturn super(BodsExporter, self)._timeplan_export(timeplan, *args, **kwargs)File \\\"/src/integrations/exports/protocols/txc/txc_exporter.py\\\", line 3831, in _timeplan_exportfile_per_service_identifier=file_per_service_identifier)File \\\"/src/integrations/exports/protocols/txc/txc_exporter.py\\\", line 3873, in _internal_exportself._generate_vehicle_journey_section(root_element=root)File \\\"/src/integrations/exports/protocols/txc/txc_exporter.py\\\", line 2418, in _generate_vehicle_journey_sectionvehicle_journey_elements.extend(self._generate_vehicle_journey_section_from_timeplan(root_element))File \\\"/src/integrations/exports/protocols/txc/txc_exporter.py\\\", line 2752, in _generate_vehicle_journey_section_from_timeplanself._generate_vehicle_journey_ref_section(vehicle_journey, journey_pattern_key)File \\\"/src/integrations/exports/protocols/txc/txc_exporter.py\\\", line 2515, in _generate_vehicle_journey_ref_sectionET.SubElement(vehicle_journey_element, 'ServiceRef').text = self._service_code_ref[journey_pattern_key]\",\"request_id\": null,\"task_id\": \"618c9c339ddcdc12186e9b9a\",\"externalError\": true,\"main_schedule_id\": null,\"user\": \"stratos.hadjioannou@optibus.com\",\"customer\": \"sg-bluebird\",\"account_name\": \"Stagecoach UK Bus\",\"account_region\": \"Europe\",\"country\": \"United Kingdom\",\"requestId\": null,\"operationType\": \"export_protocol_action\",\"client_url\": \"https://sg-bluebird.optibus.co/exporter \",\"project_id\": null,\"celeryTaskId\": \"618c9c339ddcdc12186e9b9a\",\"taskId\": \"618c9c339ddcdc12186e9b9a\",\"stops\": [\"kusyao9ok\"]}",
        "Solutions": "This error could mean that you are trying to export a route that has all its stops \"Excluded from TXC\" in the route tab but doesn't have its trips flagged as \"Exclude from reg\" in the timetable view.ResolutionTo see which route this is you can look at the error message. The bold number below after the first \"&\" instance is the route sign.\"SxUaw4vaWBp_split&2C&&&0&lKdtFfyXpBa|AA802gdvn->630060441:420,630060441-\"If you want to exclude that route completely from TXC either exclude its trips as well or just don't select it during the exportIf you think that was a mistake make sure you remove the \"Exclude from TXC\" flag in the timeplan view and export again",
        "Issue": "",
        "Data Collection Comment": ""
    },
    {
        "Error type (user/system/etc.)": "user error",
        "Error title": "",
        "Error message": "",
        "Raw": "{\"recording_id\": \"ExportProtocolExecutor/20220720/dd7fda44080511ed92bc86da64e57dd2\",\"category\": \"uncategorized_error\",\"short_description\": \"Something went wrong. If you try again and still need help, contact support@optibus.com.\",\"parameters\": {},\"sub_category\": \"exceptions.AttributeError\",\"explanation\": null,\"detailed_description\": null,\"debug\": \"<type 'exceptions.AttributeError'>'NoneType' object has no attribute 'strip'\",\"severity\": 4,\"event_type\": \"unknown\",\"stack_trace\": \" File \\\"/vintp/site-packages/optibus/system/job_executor/executor.py\\\", line 84, in executeresult = self._execute_operation(parameters)File \\\"/vintp/site-packages/optibus/exporter/fw/export_processor.py\\\", line 52, in _execute_operationresult = self._start_export(raw_request)File \\\"/vintp/site-packages/optibus/exporter/fw/export_processor.py\\\", line 174, in _start_exportself._process_request(request, loaded_data, temp_dir_path, zip_temp_dir_path)File \\\"/vintp/site-packages/optibus/exporter/fw/protocols_tasks_exporter.py\\\", line 35, in _process_requestdirectory=tempdir_path))File \\\"<decorator-gen-9>\\\", line 2, in _process_data_exportFile \\\"/vintp/site-packages/optibus/utils/timing_utils.py\\\", line 100, in timedreturn func(*args, **kwargs)File \\\"/vintp/site-packages/optibus/exporter/fw/protocols_tasks_exporter.py\\\", line 54, in _process_data_exportreturn exporter.export(data, protocol_data_filter, settings, directory)File \\\"/src/integrations/exports/reports/generic_duty_summary/generic_duty_summary.py\\\", line 147, in exportformatter = GenericDutySummaryFormatter(output_directory, self.name(), settings)File \\\"/src/integrations/exports/reports/generic_duty_summary/generic_duty_summary_formatter.py\\\", line 31, in __init__max_row_per_page=self.get_max_rows_per_page(),File \\\"/src/integrations/exports/reports/generic_duty_summary/generic_duty_summary_formatter.py\\\", line 127, in get_max_rows_per_pagemax_rows = self.settings.get(DutySummaryCustomizations.MAX_ROWS, '').strip('')\",\"request_id\": null,\"task_id\": \"62d7bc8bf36e3d094dfa00b6\",\"externalError\": true,\"main_schedule_id\": null,\"user\": \"thomas.gruber@optibus.com\",\"customer\": \"arriva-uk-bus-london\",\"account_name\": \"Arriva UK Bus\",\"account_region\": \"Europe\",\"country\": \"United Kingdom\",\"requestId\": null,\"operationType\": \"export_protocol_action\",\"client_url\": \"https://arriva-uk-bus-london.optibus.co/reporter \",\"project_id\": null,\"celeryTaskId\": \"62d7bc8bf36e3d094dfa00b6\",\"taskId\": \"62d7bc8bf36e3d094dfa00b6\",\"schedules\": [\"6cayOWvD1f\"],\"scheduleSets\": [\"bh8MPa0mh\"],\"datasets\": [\"8VNHLQTMq\"],\"data set props\": [\"-iycXRJ-KW\"],\"deadheadCatalogs\": [\"WMDiRBf3u\"],\"taxiCatalogs\": [\"gKf0IvRCt\"]}",
        "Solutions": "The exporter \u201cset configuration\u201d fields needs to be filled out to able to produce the report:The \"Max. rows per page\" field is required.",
        "Issue": "",
        "Data Collection Comment": ""
    },
    {
        "Error type (user/system/etc.)": "user error",
        "Error title": "",
        "Error message": "",
        "Raw": "{\"recording_id\": \"CreateScheduleOptimizationExecutor/20230321/893fe5c2c82c11edb17a7e08509c17b1\",\"category\": \"uncategorized_error\",\"short_description\": \"Something went wrong. If you try again and still need help, contact support@optibus.com.\",\"parameters\": {},\"sub_category\": \"exceptions.ValueError\",\"explanation\": null,\"detailed_description\": null,\"debug\": \"<type 'exceptions.ValueError'>Expecting ',' delimiter: line 1 column 663 (char 662)\",\"severity\": 4,\"event_type\": \"unknown\",\"stack_trace\": \" File \\\"/envp/site-packages/optibus/system/job_executor/executor.py\\\", line 90, in executeresult = self._execute_operation(parameters)File \\\"/euclid/euclid/tasks_optimizations.py\\\", line 245, in _execute_operationraw_override_trips, request_parameters, raw_schedules)File \\\"/euclid/euclid/tasks_optimizations.py\\\", line 358, in create_schedule_funcrequest_parameters)File \\\"/euclid/euclid/tasks_optimizations.py\\\", line 96, in create_schedule_from_raw_input_with_override_dataraw_additional_routes=raw_override_routes, raw_override_trips=raw_override_trips)File \\\"/envp/site-packages/optibus/utils/timing_utils.py\\\", line 119, in decorated_functionresult = func(*args, **kwargs)File \\\"/euclid/euclid/progressed_engine.py\\\", line 62, in create_schedule_from_raw_inputcreate_data_set_with_raw_data_set=True)File \\\"/envp/site-packages/optibus/utils/timing_utils.py\\\", line 119, in decorated_functionresult = func(*args, **kwargs)File \\\"/envp/site-packages/optibus/models/schedule/utils/data_set_extensions.py\\\", line 253, in parse_raw_data_setsignature_tag=preference_signature_tag)File \\\"/envp/site-packages/optibus/utils/timing_utils.py\\\", line 119, in decorated_functionresult = func(*args, **kwargs)File \\\"/envp/site-packages/optibus/system/event_providers/tracing.py\\\", line 69, in innerreturn func(*args, **kwargs)File \\\"/envp/site-packages/optibus/models/schedule/utils/data_set_extensions.py\\\", line 491, in update_parameters_from_preferences_and_raw_data_setdata_set, raw_data_set, raw_preferences, validate_schema, service_group=service_group)File \\\"/envp/site-packages/optibus/models/schedule/utils/data_set_extensions.py\\\", line 699, in _update_non_schedule_related_parameters_and_preferencesraw_preferences = _set_parameters_for_all_preferences(raw_preferences)File \\\"/envp/site-packages/optibus/models/schedule/utils/data_set_extensions.py\\\", line 88, in _set_parameters_for_all_preferencesraw_preferences_with_parameters.append(_set_parameters_for_single_preference(raw_preference))File \\\"/envp/site-packages/optibus/models/schedule/utils/data_set_extensions.py\\\", line 79, in _set_parameters_for_single_preferenceraw_preference[pref_key] = set_parameters_for_single_preference_body(raw_preference[pref_key])File \\\"/envp/site-packages/optibus/models/items.py\\\", line 126, in set_parameters_for_single_preference_bodyreturn json.loads(raw_preference_text)File \\\"/opt/pypy/lib-python/2.7/json/__init__.py\\\", line 347, in loadsreturn _default_decoder.decode(s)File \\\"/opt/pypy/lib-python/2.7/json/decoder.py\\\", line 363, in decodeobj, end = self.raw_decode(s, idx=WHITESPACE.match(s, 0).end())File \\\"/opt/pypy/lib-python/2.7/json/decoder.py\\\", line 379, in raw_decodeobj, end = self.scan_once(s, idx)File \\\"/opt/pypy/lib-python/2.7/json/scanner.py\\\", line 38, in _scan_once_scan_once, object_hook, object_pairs_hook)File \\\"/opt/pypy/lib-python/2.7/json/decoder.py\\\", line 210, in JSONObjectraise ValueError(errmsg(\\\"Expecting ',' delimiter\\\", s, end - 1))\",\"request_id\": null,\"task_id\": \"d280cc4b-d9cb-4cf0-a128-27c6167f8735\",\"externalError\": true,\"main_schedule_id\": null,\"user\": \"gabriela.perez@optibus.com\",\"customer\": \"redbus\",\"account_name\": \"Redbus Chile\",\"account_region\": \"LATAM\",\"country\": \"Chile\",\"requestId\": null,\"operationType\": \"Optimize\",\"client_url\": null,\"project_id\": \"pthhe34\",\"celeryTaskId\": \"d280cc4b-d9cb-4cf0-a128-27c6167f8735\",\"taskId\": \"d280cc4b-d9cb-4cf0-a128-27c6167f8735\",\"datasets\": [\"BTiKbfX_t\"],\"schedules\": [\"Fo9kvSb7a1\"],\"deadheadCatalogs\": [\"Lxy3yWpQz\"],\"taxiCatalogs\": [\"Ln9bUot3K\"]}",
        "Solutions": "Seems like something with the preference JSON contains a bad character. Perhaps you used \",\" in that preference name or setting?If you delete the duty rule it solves the problem? If so I would focus on the expert view of that rule to see if there is some weird with its JSON structure.This may be a bug causing this bad structurethanks, there was a duty type with name 09:00' I understand that ' symbol was generating the error.",
        "Issue": "",
        "Data Collection Comment": ""
    },
    {
        "Error type (user/system/etc.)": "user error",
        "Error title": "",
        "Error message": "",
        "Raw": "{\"recording_id\": \"ExportScheduleExecutor/20220426/f048b122c57111ec84a75ed46c3ee592\",\"category\": \"uncategorized_error\",\"short_description\": \"Something went wrong. If you try again and still need help, contact support@optibus.com.\",\"parameters\": {},\"sub_category\": \"exceptions.KeyError\",\"explanation\": null,\"detailed_description\": null,\"debug\": \"<type 'exceptions.KeyError'>Duty id 1001: [(sign_on, index: 0, 05:43-05:48, <Stop Bolton Garage (id:BOL)> -> <Stop Bolton Garage (id:BOL)> (id:145048648)),(vehicle_event, index: 1, vehicle_id: 305, (pre_trip, index: 0, 05:48-05:53, <Stop Bolton Garage (id:BOL)> -> <Stop Bolton Garage (id:BOL)>, meta: duty_id: 1001 (id:138526456))),(vehicle_event, index: 2, vehicle_id: 305, (idle_trip, index: 1, 05:53-06:13, <Stop Bolton Garage (id:BOL)> -> <Stop The Crown (id:1800WA20191)>, meta: type: depot_pull_out, duty_id: 1001 (id:138526512))),(vehicle_event, index: 3, vehicle_id: 305, (service_trip, index: 2, 06:13-06:40, <Stop The Crown (id:1800WA20191)> -> <Stop Bolton Interchange (id:1800BNIN0L1)>, meta: id: 7506310, duty_id: 1001 (id:138526568))),(vehicle_event, index: 4, vehicle_id: 305, (service_trip, index: 3, 06:50-07:56, <Stop Bolton Interchange (id:1800BNIN0L1)> -> <Stop Wigan Bus Station (id:1800WNBS0R1)>, meta: id: 7506234, duty_id: 1001 (id:138526624))),(vehicle_event, index: 5, vehicle_id: 305, (service_trip, index: 4, 08:05-08:50, <Stop Wigan Bus Station (id:1800WNBS0T1)> -> <Stop Bus Station (id:250020910)>, meta: id: 7505335, duty_id: 1001 (id:138600480))),(vehicle_event, index: 6, vehicle_id: 305, (service_trip, index: 5, 08:55-09:35, <Stop Bus Station (id:250020910)> -> <Stop Wigan Bus Station (id:1800WKQ0431)>, meta: id: 7505414, duty_id: 1001 (id:138600536))),(vehicle_event, index: 7, vehicle_id: 305, (service_trip, index: 6, 09:40-10:40, <Stop Wigan Bus Station (id:1800WNBS0R1)> -> <Stop Bolton Interchange (id:1800BNIN0L1)>, meta: id: 7506273, duty_id: 1001 (id:138600592))),(walk, index: 8, 10:40-10:43, <Stop Bolton Interchange (id:1800BNIN0L1)> -> <Stop Bolton Interchange (id:1800BNIN0C1)> (id:145049096)),(standby, index: 9, 10:43-11:45, <Stop Bolton Interchange (id:1800BNIN0C1)> -> <Stop Bolton Interchange (id:1800BNIN0C1)> (id:145049152)),(changeover, index: 10, 11:45-11:45, <Stop Bolton Interchange (id:1800BNIN0C1)> -> <Stop Bolton Interchange (id:1800BNIN0C1)> (id:145049208)),(vehicle_event, index: 11, vehicle_id: 201, (attendance, index: 19, 11:45-11:48, <Stop Bolton Interchange (id:1800BNIN0C1)> -> <Stop Bolton Interchange (id:1800BNIN0C1)>, meta: duty_id: 1001 (id:215286912))),(vehicle_event, index: 12, vehicle_id: 201, (service_trip, index: 20, 11:48-12:08, <Stop Bolton Interchange (id:1800BNIN0C1)> -> <Stop Oldhams Estate Terminus (id:1800WA12481)>, meta: id: 7505805, duty_id: 1001 (id:215286968))),(vehicle_event, index: 13, vehicle_id: 201, (service_trip, index: 21, 12:10-12:30, <Stop Oldhams Estate Terminus (id:1800WA12481)> -> <Stop Bolton Interchange (id:1800BNIN0C1)>, meta: id: 7505854, duty_id: 1001 (id:215287024))),(vehicle_event, index: 14, vehicle_id: 201, (service_trip, index: 22, 12:33-12:53, <Stop Bolton Interchange (id:1800BNIN0C1)> -> <Stop Oldhams Estate Terminus (id:1800WA12481)>, meta: id: 7505808, duty_id: 1001 (id:215287080))),(vehicle_event, index: 15, vehicle_id: 201, (service_trip, index: 23, 12:55-13:15, <Stop Oldhams Estate Terminus (id:1800WA12481)> -> <Stop Bolton Interchange (id:1800BNIN0C1)>, meta: id: 7505857, duty_id: 1001 (id:215287136))),(vehicle_event, index: 16, vehicle_id: 201, (service_trip, index: 24, 13:18-13:38, <Stop Bolton Interchange (id:1800BNIN0C1)> -> <Stop Oldhams Estate Terminus (id:1800WA12481)>, meta: id: 7505811, duty_id: 1001 (id:215287192))),(vehicle_event, index: 17, vehicle_id: 201, (service_trip, index: 25, 13:40-14:00, <Stop Oldhams Estate Terminus (id:1800WA12481)> -> <Stop Bolton Interchange (id:1800BNIN0C1)>, meta: id: 7505860, duty_id: 1001 (id:215287248))),(vehicle_event, index: 18, vehicle_id: 201, (service_trip, index: 26, 14:03-14:23, <Stop Bolton Interchange (id:1800BNIN0C1)> -> <Stop Oldhams Estate Terminus (id:1800WA12481)>, meta: id: 7505814, duty_id: 1001 (id:215287304))),(vehicle_event, index: 19, vehicle_id: 201, (service_trip, index: 27, 14:25-14:45, <Stop Oldhams Estate Terminus (id:1800WA12481)> -> <Stop Bolton Interchange (id:1800BNIN0C1)>, meta: id: 7505863, duty_id: 1001 (id:215287360))),(vehicle_event, index: 20, vehicle_id: 201, (service_trip, index: 28, 14:48-15:08, <Stop Bolton Interchange (id:1800BNIN0C1)> -> <Stop Oldhams Estate Terminus (id:1800WA12481)>, meta: id: 7505817, duty_id: 1001 (id:215287416))),(vehicle_event, index: 21, vehicle_id: 201, (service_trip, index: 29, 15:10-15:30, <Stop Oldhams Estate Terminus (id:1800WA12481)> -> <Stop Bolton Interchange (id:1800BNIN0C1)>, meta: id: 7505865, duty_id: 1001 (id:215287472))),(vehicle_event, index: 22, vehicle_id: 201, (service_trip, index: 30, 15:33-15:53, <Stop Bolton Interchange (id:1800BNIN0C1)> -> <Stop Oldhams Estate Terminus (id:1800WA12481)>, meta: id: 7505819, duty_id: 1001 (id:215287528))),(vehicle_event, index: 23, vehicle_id: 201, (service_trip, index: 31, 15:55-16:15, <Stop Oldhams Estate Terminus (id:1800WA12481)> -> <Stop Bolton Interchange (id:1800BNIN0C1)>, meta: id: 7505867, duty_id: 1001 (id:215287584))),(sign_off, index: 24, 16:15-16:20, <Stop Bolton Interchange (id:1800BNIN0C1)> -> <Stop Bolton Interchange (id:1800BNIN0C1)> (id:145049992))] -- Inner error: Bolton\",\"severity\": 4,\"event_type\": \"unknown\",\"stack_trace\": \" File \\\"/envp/site-packages/optibus/system/job_executor/executor.py\\\", line 84, in executeresult = self._execute_operation(parameters)File \\\"/euclid/euclid/tasks_reports.py\\\", line 53, in _execute_operationforgiving=True)File \\\"/euclid/euclid/integrations/analyze_schedule.py\\\", line 117, in create_reportforgiving=forgiving)File \\\"/euclid/euclid/integrations/analyze_schedule.py\\\", line 132, in _export_schedule_files**request_parameters)File \\\"/euclid/euclid/analytics/schedule_analytics.py\\\", line 254, in create_full_schedule_reportscreate_schedule_stats(service_schedule, data_set, validate=False, forgiving=forgiving)File \\\"/envp/site-packages/optibus/utils/timing_utils.py\\\", line 116, in decorated_functionresult = func(*args, **kwargs)File \\\"/envp/site-packages/optibus/system/context.py\\\", line 495, in decorated_functionresult = func(*args, **kwargs)File \\\"/euclid/euclid/analytics/schedule_stats.py\\\", line 46, in create_schedule_statsrecalculate_stats_for_duty_ids=recalculate_stats_for_duty_ids)File \\\"/envp/site-packages/optibus/utils/timing_utils.py\\\", line 116, in decorated_functionresult = func(*args, **kwargs)File \\\"/euclid/euclid/analytics/crew_analytics.py\\\", line 164, in create_crew_statsdont_raise_on_penalty_errors=forgiving)File \\\"/euclid/euclid/analytics/crew_analytics.py\\\", line 357, in create_duty_statsinner_error=e)File \\\"/envp/site-packages/optibus/utils/error_utils.py\\\", line 23, in _wrappedreturn f(*args, **kwargs)File \\\"/envp/site-packages/optibus/utils/error_utils.py\\\", line 87, in raise_errorsix.reraise(error_type, error, traceback)File \\\"/euclid/euclid/analytics/crew_analytics.py\\\", line 335, in create_duty_statsduty_stats.update(compensation_time=calculate_compensation_time(duty, components=duty_stats.compensations))File \\\"/euclid/euclid/crew/vehicle_duty_piece.py\\\", line 4886, in calculate_piece_or_duty_compensation_timereturn self.preferences.calculate_compensation_time_map[piece.pref_group.id](piece, components=components)\",\"request_id\": null,\"task_id\": \"6268099482d1c26a9cde46bd\",\"externalError\": true,\"main_schedule_id\": null,\"user\": \"thomas.gruber@optibus.com\",\"customer\": \"arriva-uk\",\"account_name\": \"Arriva UK Bus\",\"account_region\": \"Europe\",\"country\": \"United Kingdom\",\"requestId\": null,\"operationType\": \"export_schedule\",\"client_url\": \"https://arriva-uk.optibus.co/project/yrer2dd5w/schedules/gL40jJvQhf/gantt \",\"project_id\": null,\"celeryTaskId\": \"6268099482d1c26a9cde46bd\",\"taskId\": \"6268099482d1c26a9cde46bd\"}",
        "Solutions": "This error is caused by the Services not having the exact same Preference Groups listed in the Preferences.When exporting all schedules any error on any of the service groups / ids will cause the entire process to error. Go through each of the service groups and ids, validate the preferences and make sure there is no issues. Exporting just the Mon-Fri works so it is one of the service ids.",
        "Issue": "",
        "Data Collection Comment": ""
    },
    {
        "Error type (user/system/etc.)": "",
        "Error title": "",
        "Error message": "<type 'exceptions.IndexError'>list index out of range",
        "Raw": "{\"recording_id\": \"CreateScheduleOptimizationExecutor/20230619/5b626aa80e9f11eea7db063c0cbba588\",\"category\": \"uncategorized_error\",\"short_description\": \"Something went wrong. If you try again and still need help, contact support@optibus.com.\",\"parameters\": {},\"sub_category\": \"exceptions.IndexError\",\"explanation\": null,\"detailed_description\": null,\"debug\": \"<type 'exceptions.IndexError'>list index out of range\",\"severity\": 4,\"event_type\": \"unknown\",\"stack_trace\": \" File \\\"/euclid/euclid/utils/parallel.py\\\", line 646, in _func_execution_wrapperforked_worker=forked_worker, **invocation_kwargs)File \\\"/euclid/euclid/crew/set_partitioning_crew_scheduler.py\\\", line 1135, in run_create_column_generation_inputcompact_edges=compact_edgesFile \\\"/euclid/euclid/crew/column_generation_utils.py\\\", line 1182, in create_column_generation_inputif not run_deep or event_identifiers[duty_event_index][\\\"is_service_trip\\\"]:\",\"request_id\": null,\"task_id\": \"559420a7-efc2-4680-9387-2ebb8a2f1fc4\",\"externalError\": true,\"main_schedule_id\": null,\"user\": \"orlando.neto@optibus.com\",\"customer\": \"eva-transportes\",\"account_name\": \"Eva\",\"account_region\": \"Europe\",\"country\": \"Portugal\",\"requestId\": null,\"operationType\": \"Optimize\",\"client_url\": null,\"project_id\": \"m6rxspa\",\"celeryTaskId\": \"559420a7-efc2-4680-9387-2ebb8a2f1fc4\",\"taskId\": \"559420a7-efc2-4680-9387-2ebb8a2f1fc4\",\"datasets\": [\"MehED3boq\"],\"schedules\": [\"ebkfFu9rP\"],\"deadheadCatalogs\": [\"qGzGgJHPF\"],\"taxiCatalogs\": [\"babKesTXo\"]}",
        "Solutions": "DEEP is trying to edit duties that the vehicles are locked.In order to optimize with locked vehicles, you need to lock all relevant duties.Use the custom enrichment \"Duties as Vehicles\" to populate the duty schedule, lock the corresponding duty and optimize.",
        "Issue": "",
        "Data Collection Comment": ""
    },
    {
        "Error type (user/system/etc.)": "",
        "Error title": "",
        "Error message": "<type 'exceptions.UnicodeEncodeError'>",
        "Raw": "",
        "Solutions": "UnicodeEncodeError usually means language or unsupported chars (Special Chars) issues, I would start by looking at route names, service id names, vehicle ids, duty ids, schedule name, pref names, pref groups names => all these should only be in EnglishI had this error and the problem was that the account_name had Unicode.The domain name, account name, and user name should also be checked.The following items must also not contain unsupported chars for duties optimization to work: Route Group names, Custom Duty Preferences names, Preference Group names.I had this error a few times while running optimisations with Czech and French clients.This could be linked to the fact that you're using special characters in stop names, service IDs, route IDs, etc. try to run the optimisation without the special characters and if it's working then you have your answer.",
        "Issue": "",
        "Data Collection Comment": ""
    }
]